var load_figshare_widget;(function(){function n(){e=window.jQuery.noConflict(true);r()}function r(){(function(e,t,n){e.fn.jScrollPane=function(t){function r(t,r){function $(r){var s,g,y,E,S,T,N=false,C=false;i=r;if(o===n){S=t.scrollTop();T=t.scrollLeft();t.css({overflow:"hidden",padding:0});u=t.innerWidth()+I;a=t.innerHeight();t.width(u);o=e('<div class="jspPane" />').css("padding",F).append(t.children());f=e('<div class="jspContainer" />').css({width:u+"px",height:a+"px"}).append(o).appendTo(t)}else{t.css("width","");N=i.stickToBottom&&mt();C=i.stickToRight&&gt();E=t.innerWidth()+I!=u||t.outerHeight()!=a;if(E){u=t.innerWidth()+I;a=t.innerHeight();f.css({width:u+"px",height:a+"px"})}if(!E&&q==l&&o.outerHeight()==h){t.width(u);return}q=l;o.css("width","");t.width(u);f.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}o.css("overflow","auto");if(r.contentWidth){l=r.contentWidth}else{l=o[0].scrollWidth}h=o[0].scrollHeight;o.css("overflow","");p=l/u;d=h/a;v=d>1;m=p>1;if(!(m||v)){t.removeClass("jspScrollable");o.css({top:0,width:f.width()-I});bt();St();Tt();rt();Ct()}else{t.addClass("jspScrollable");s=i.maintainPosition&&(w||x);if(s){g=dt();y=vt()}J();Q();Y();if(s){ht(C?l-u:g,false);ct(N?h-a:y,false)}Et();yt();Lt();if(i.enableKeyboardNavigation){xt()}if(i.clickOnTrack){nt()}Nt();if(i.hijackInternalLinks){kt()}}if(i.autoReinitialise&&!j){j=setInterval(function(){$(i)},i.autoReinitialiseDelay)}else{if(!i.autoReinitialise&&j){clearInterval(j)}}S&&t.scrollTop(0)&&ct(S,false);T&&t.scrollLeft(0)&&ht(T,false);t.trigger("jsp-initialised",[m||v])}function J(){if(v){f.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />')));T=f.find(">.jspVerticalBar");N=T.find(">.jspTrack");g=N.find(">.jspDrag");if(i.showArrows){A=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",et(0,-1)).bind("click.jsp",wt);O=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",et(0,1)).bind("click.jsp",wt);if(i.arrowScrollOnHover){A.bind("mouseover.jsp",et(0,-1,A));O.bind("mouseover.jsp",et(0,1,O))}Z(N,i.verticalArrowPositions,A,O)}k=a;f.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){k-=e(this).outerHeight()});g.hover(function(){g.addClass("jspHover")},function(){g.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",wt);g.addClass("jspActive");var n=t.pageY-g.position().top;e("html").bind("mousemove.jsp",function(e){st(e.pageY-n,false)}).bind("mouseup.jsp mouseleave.jsp",it);return false});K()}}function K(){N.height(k+"px");w=0;C=i.verticalGutter+N.outerWidth();o.width(u-C-I);try{if(T.position().left===0){o.css("margin-left",C+"px")}}catch(e){}}function Q(){if(m){f.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />')));M=f.find(">.jspHorizontalBar");_=M.find(">.jspTrack");E=_.find(">.jspDrag");if(i.showArrows){H=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",et(-1,0)).bind("click.jsp",wt);B=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",et(1,0)).bind("click.jsp",wt);if(i.arrowScrollOnHover){H.bind("mouseover.jsp",et(-1,0,H));B.bind("mouseover.jsp",et(1,0,B))}Z(_,i.horizontalArrowPositions,H,B)}E.hover(function(){E.addClass("jspHover")},function(){E.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",wt);E.addClass("jspActive");var n=t.pageX-E.position().left;e("html").bind("mousemove.jsp",function(e){ut(e.pageX-n,false)}).bind("mouseup.jsp mouseleave.jsp",it);return false});D=f.innerWidth();G()}}function G(){f.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){D-=e(this).outerWidth()});_.width(D+"px");x=0}function Y(){if(m&&v){var t=_.outerHeight(),n=N.outerWidth();k-=t;e(M).find(">.jspCap:visible,>.jspArrow").each(function(){D+=e(this).outerWidth()});D-=n;a-=n;u-=t;_.parent().append(e('<div class="jspCorner" />').css("width",t+"px"));K();G()}if(m){o.width(f.outerWidth()-I+"px")}h=o.outerHeight();d=h/a;if(m){P=Math.ceil(1/p*D);if(P>i.horizontalDragMaxWidth){P=i.horizontalDragMaxWidth}else{if(P<i.horizontalDragMinWidth){P=i.horizontalDragMinWidth}}E.width(P+"px");S=D-P;at(x)}if(v){L=Math.ceil(1/d*k);if(L>i.verticalDragMaxHeight){L=i.verticalDragMaxHeight}else{if(L<i.verticalDragMinHeight){L=i.verticalDragMinHeight}}g.height(L+"px");y=k-L;ot(w)}}function Z(e,t,n,r){var i="before",s="after",o;if(t=="os"){t=/Mac/.test(navigator.platform)?"after":"split"}if(t==i){s=t}else{if(t==s){i=t;o=n;n=r;r=o}}e[i](n)[s](r)}function et(e,t,n){return function(){tt(e,t,this,n);this.blur();return false}}function tt(t,n,r,o){r=e(r).addClass("jspActive");var u,a,f=true,l=function(){if(t!==0){s.scrollByX(t*i.arrowButtonSpeed)}if(n!==0){s.scrollByY(n*i.arrowButtonSpeed)}a=setTimeout(l,f?i.initialDelay:i.arrowRepeatFreq);f=false};l();u=o?"mouseout.jsp":"mouseup.jsp";o=o||e("html");o.bind(u,function(){r.removeClass("jspActive");a&&clearTimeout(a);a=null;o.unbind(u)})}function nt(){rt();if(v){N.bind("mousedown.jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var r=e(this),o=r.offset(),u=t.pageY-o.top-w,f,l=true,p=function(){var e=r.offset(),n=t.pageY-e.top-L/2,o=a*i.scrollPagePercent,c=y*o/(h-a);if(u<0){if(w-c>n){s.scrollByY(-o)}else{st(n)}}else{if(u>0){if(w+c<n){s.scrollByY(o)}else{st(n)}}else{d();return}}f=setTimeout(p,l?i.initialDelay:i.trackClickRepeatFreq);l=false},d=function(){f&&clearTimeout(f);f=null;e(document).unbind("mouseup.jsp",d)};p();e(document).bind("mouseup.jsp",d);return false}})}if(m){_.bind("mousedown.jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var r=e(this),o=r.offset(),a=t.pageX-o.left-x,f,h=true,p=function(){var e=r.offset(),n=t.pageX-e.left-P/2,o=u*i.scrollPagePercent,c=S*o/(l-u);if(a<0){if(x-c>n){s.scrollByX(-o)}else{ut(n)}}else{if(a>0){if(x+c<n){s.scrollByX(o)}else{ut(n)}}else{d();return}}f=setTimeout(p,h?i.initialDelay:i.trackClickRepeatFreq);h=false},d=function(){f&&clearTimeout(f);f=null;e(document).unbind("mouseup.jsp",d)};p();e(document).bind("mouseup.jsp",d);return false}})}}function rt(){if(_){_.unbind("mousedown.jsp")}if(N){N.unbind("mousedown.jsp")}}function it(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");if(g){g.removeClass("jspActive")}if(E){E.removeClass("jspActive")}}function st(e,t){if(!v){return}if(e<0){e=0}else{if(e>y){e=y}}if(t===n){t=i.animateScroll}if(t){s.animate(g,"top",e,ot)}else{g.css("top",e);ot(e)}}function ot(e){if(e===n){e=g.position().top}f.scrollTop(0);w=e;var r=w===0,i=w==y,s=e/y,u=-s*(h-a);if(R!=r||z!=i){R=r;z=i;t.trigger("jsp-arrow-change",[R,z,U,W])}ft(r,i);o.css("top",u);t.trigger("jsp-scroll-y",[-u,r,i]).trigger("scroll")}function ut(e,t){if(!m){return}if(e<0){e=0}else{if(e>S){e=S}}if(t===n){t=i.animateScroll}if(t){s.animate(E,"left",e,at)}else{E.css("left",e);at(e)}}function at(e){if(e===n){e=E.position().left}f.scrollTop(0);x=e;var r=x===0,i=x==S,s=e/S,a=-s*(l-u);if(U!=r||W!=i){U=r;W=i;t.trigger("jsp-arrow-change",[R,z,U,W])}lt(r,i);o.css("left",a);t.trigger("jsp-scroll-x",[-a,r,i]).trigger("scroll")}function ft(e,t){if(i.showArrows){A[e?"addClass":"removeClass"]("jspDisabled");O[t?"addClass":"removeClass"]("jspDisabled")}}function lt(e,t){if(i.showArrows){H[e?"addClass":"removeClass"]("jspDisabled");B[t?"addClass":"removeClass"]("jspDisabled")}}function ct(e,t){var n=e/(h-a);st(n*y,t)}function ht(e,t){var n=e/(l-u);ut(n*S,t)}function pt(t,n,r){var s,o,l,c=0,h=0,p,d,v,m,g,y;try{s=e(t)}catch(w){return}o=s.outerHeight();l=s.outerWidth();f.scrollTop(0);f.scrollLeft(0);while(!s.is(".jspPane")){c+=s.position().top;h+=s.position().left;s=s.offsetParent();if(/^body|html$/i.test(s[0].nodeName)){return}}p=vt();v=p+a;if(c<p||n){g=c-i.verticalGutter}else{if(c+o>v){g=c-a+o+i.verticalGutter}}if(g){ct(g,r)}d=dt();m=d+u;if(h<d||n){y=h-i.horizontalGutter}else{if(h+l>m){y=h-u+l+i.horizontalGutter}}if(y){ht(y,r)}}function dt(){return-o.position().left}function vt(){return-o.position().top}function mt(){var e=h-a;return e>20&&e-vt()<10}function gt(){var e=l-u;return e>20&&e-dt()<10}function yt(){f.unbind(V).bind(V,function(e,t,n,r){var o=x,u=w;s.scrollBy(n*i.mouseWheelSpeed,-r*i.mouseWheelSpeed,false);return o==x&&u==w})}function bt(){f.unbind(V)}function wt(){return false}function Et(){o.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){pt(e.target,false)})}function St(){o.find(":input,a").unbind("focus.jsp")}function xt(){function l(){var e=x,t=w;switch(n){case 40:s.scrollByY(i.keyboardSpeed,false);break;case 38:s.scrollByY(-i.keyboardSpeed,false);break;case 34:case 32:s.scrollByY(a*i.scrollPagePercent,false);break;case 33:s.scrollByY(-a*i.scrollPagePercent,false);break;case 39:s.scrollByX(i.keyboardSpeed,false);break;case 37:s.scrollByX(-i.keyboardSpeed,false);break}r=e!=x||t!=w;return r}var n,r,u=[];m&&u.push(M[0]);v&&u.push(T[0]);o.focus(function(){t.focus()});t.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(t){if(t.target!==this&&!(u.length&&e(t.target).closest(u).length)){return}var i=x,s=w;switch(t.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:n=t.keyCode;l();break;case 35:ct(h-a);n=null;break;case 36:ct(0);n=null;break}r=t.keyCode==n&&i!=x||s!=w;return!r}).bind("keypress.jsp",function(e){if(e.keyCode==n){l()}return!r});if(i.hideFocus){t.css("outline","none");if("hideFocus"in f[0]){t.attr("hideFocus",true)}}else{t.css("outline","");if("hideFocus"in f[0]){t.attr("hideFocus",false)}}}function Tt(){t.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function Nt(){if(location.hash&&location.hash.length>1){var t,n;try{t=e(location.hash)}catch(r){return}if(t.length&&o.find(location.hash)){if(f.scrollTop()===0){n=setInterval(function(){if(f.scrollTop()>0){pt(location.hash,true);e(document).scrollTop(f.position().top);clearInterval(n)}},50)}else{pt(location.hash,true);e(document).scrollTop(f.position().top)}}}}function Ct(){e("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function kt(){Ct();e("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var e=this.href.split("#"),t;if(e.length>1){t=e[1];if(t.length>0&&o.find("#"+t).length>0){pt("#"+t,true);return false}}})}function Lt(){var e,t,n,r,i,o=false;f.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(s){var u=s.originalEvent.touches[0];e=dt();t=vt();n=u.pageX;r=u.pageY;i=false;o=true}).bind("touchmove.jsp",function(u){if(!o){return}var a=u.originalEvent.touches[0],f=x,l=w;s.scrollTo(e+n-a.pageX,t+r-a.pageY);i=i||Math.abs(n-a.pageX)>5||Math.abs(r-a.pageY)>5;return f==x&&l==w}).bind("touchend.jsp",function(e){o=false}).bind("click.jsp-touchclick",function(e){if(i){i=false;return false}})}function At(){var e=vt(),n=dt();t.removeClass("jspScrollable").unbind(".jsp");t.replaceWith(X.append(o.children()));X.scrollTop(e);X.scrollLeft(n)}var i,s=this,o,u,a,f,l,h,p,d,v,m,g,y,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R=true,U=true,z=false,W=false,X=t.clone(false,false).empty(),V=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";F=t.css("paddingTop")+" "+t.css("paddingRight")+" "+t.css("paddingBottom")+" "+t.css("paddingLeft");I=(parseInt(t.css("paddingLeft"),10)||0)+(parseInt(t.css("paddingRight"),10)||0);e.extend(s,{reinitialise:function(t){t=e.extend({},i,t);$(t)},scrollToElement:function(e,t,n){pt(e,t,n)},scrollTo:function(e,t,n){ht(e,n);ct(t,n)},scrollToX:function(e,t){ht(e,t)},scrollToY:function(e,t){ct(e,t)},scrollToPercentX:function(e,t){ht(e*(l-u),t)},scrollToPercentY:function(e,t){ct(e*(h-a),t)},scrollBy:function(e,t,n){s.scrollByX(e,n);s.scrollByY(t,n)},scrollByX:function(e,t){var n=dt()+e,r=n/(l-u);ut(r*S,t)},scrollByY:function(e,t){var n=vt()+e,r=n/(h-a);st(r*y,t)},positionDragX:function(e,t){ut(e,t)},positionDragY:function(e,t){st(e,t)},animate:function(e,t,n,r){var s={};s[t]=n;e.animate(s,{duration:i.animateDuration,ease:i.animateEase,queue:false,step:r})},getContentPositionX:function(){return dt()},getContentPositionY:function(){return vt()},getContentWidth:function(){return l},getContentHeight:function(){return h},getPercentScrolledX:function(){return dt()/(l-u)},getPercentScrolledY:function(){return vt()/(h-a)},getIsScrollableH:function(){return m},getIsScrollableV:function(){return v},getContentPane:function(){return o},scrollToBottom:function(e){st(y,e)},hijackInternalLinks:function(){kt()},destroy:function(){At()}});$(r)}t=e.extend({},e.fn.jScrollPane.defaults,t);e.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){t[this]=t[this]||t.speed});var i;this.each(function(){var n=e(this),s=n.data("jsp");if(s){s.reinitialise(t)}else{s=new r(n,t);n.data("jsp",s)}i=i?i.add(n):n});return i};e.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:n,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}})(e,this);(function(t){if(typeof define==="function"&&define.amd){define(["jquery"],t)}else if(typeof exports==="object"){module.exports=t}else{t(e)}})(function(e){function t(t){var n=t||window.event,r=[].slice.call(arguments,1),o=0,u=0,a=0,f=0,l=0,c;t=e.event.fix(n);t.type="mousewheel";if(n.wheelDelta){o=n.wheelDelta}if(n.detail){o=n.detail*-1}if(n.deltaY){a=n.deltaY*-1;o=a}if(n.deltaX){u=n.deltaX;o=u*-1}if(n.wheelDeltaY!==undefined){a=n.wheelDeltaY}if(n.wheelDeltaX!==undefined){u=n.wheelDeltaX*-1}f=Math.abs(o);if(!i||f<i){i=f}l=Math.max(Math.abs(a),Math.abs(u));if(!s||l<s){s=l}c=o>0?"floor":"ceil";o=Math[c](o/i);u=Math[c](u/s);a=Math[c](a/s);r.unshift(t,o,u,a);return(e.event.dispatch||e.event.handle).apply(this,r)}var n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"];var r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];var i,s;if(e.event.fixHooks){for(var o=n.length;o;){e.event.fixHooks[n[--o]]=e.event.mouseHooks}}e.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=r.length;e;){this.addEventListener(r[--e],t,false)}}else{this.onmousewheel=t}},teardown:function(){if(this.removeEventListener){for(var e=r.length;e;){this.removeEventListener(r[--e],t,false)}}else{this.onmousewheel=null}}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});(function(e){e.fn.mask=function(t,n){e(this).each(function(){if(n!==undefined&&n>0){var r=e(this);r.data("_mask_timeout",setTimeout(function(){e.maskElement(r,t)},n))}else{e.maskElement(e(this),t)}})};e.fn.unmask=function(){e(this).each(function(){e.unmaskElement(e(this))})};e.fn.isMasked=function(){return this.hasClass("masked")};e.maskElement=function(t,n){if(t.data("_mask_timeout")!==undefined){clearTimeout(t.data("_mask_timeout"));t.removeData("_mask_timeout")}if(t.isMasked()){e.unmaskElement(t)}if(t.css("position")=="static"){t.addClass("masked-relative")}t.addClass("masked");var r=e('<div class="loadmask"></div>');if(navigator.userAgent.toLowerCase().indexOf("msie")>-1){r.height(t.height()+parseInt(t.css("padding-top"))+parseInt(t.css("padding-bottom")));r.width(t.width()+parseInt(t.css("padding-left"))+parseInt(t.css("padding-right")))}if(navigator.userAgent.toLowerCase().indexOf("msie 6")>-1){t.find("select").addClass("masked-hidden")}t.append(r);if(n!==undefined){var i=e('<div class="loadmask-msg" style="display:none;"></div>');i.append("<div>"+n+"</div>");t.append(i);i.css("top",Math.round(t.height()/2-(i.height()-parseInt(i.css("padding-top"))-parseInt(i.css("padding-bottom")))/2-16)+"px");i.css("left",Math.round(t.width()/2-(i.width()-parseInt(i.css("padding-left"))-parseInt(i.css("padding-right")))/2-26)+"px");i.show()}};e.unmaskElement=function(e){if(e.data("_mask_timeout")!==undefined){clearTimeout(e.data("_mask_timeout"));e.removeData("_mask_timeout")}e.find(".loadmask-msg,.loadmask").remove();e.removeClass("masked");e.removeClass("masked-relative");e.find("select").removeClass("masked-hidden")}})(e);e(document).ready(function(e){var t="//wl.figshare.com";var n=0;var r=0;var i=0;var s={};var o={};var u={};var a={};var f={};var l={};var c={};var h=false;var p=null;var d=e(window).height()-320;var v=0;var m=e(window).height();var g=e(window).width();var y=parseInt(g*.2);if(y>280){y=280}else if(y<140){y=140}var b=g-y-140;if(b>1140){b=1140}var w=function(){var t=e("#figshare_enlarge");if(t.length!=0){return false}e("body").append('            <a href="javascript: void(0)" id="go_overlay" style="display: none;"></a>            <a href="javascript: void(0)" id="go_share" style="display: none;"></a>            <div id="figshare_enlarge" class="enlarge-view" style="display:none">                <div class="fw-overlay-curtain"></div>                <a class="fw-close-enlarge" title="close overlay" href="javascript:void(0)">                  <span>or press Esc</span>                </a>                <div class="fw-list-wrap black">                <ul class="fw-enlarge-list">                    <li class="active">                        <a class="fw-el-trigger" href="javascript:void(0)">                            <div class="fw-el-thumb">                            </div>                            <div class="fw-el-details">                                <span class="fw-eld-filename">Phospholipuds_p...csv</span>                                <span class="fw-eld-filesize">112kb</span>                                <div class="fw-eld-icon"></div>                            </div>                        </a>                    </li>                    <li>                        <a class="fw-el-trigger" href="javascript:void(0)">                            <div class="fw-el-thumb">                            </div>                            <div class="fw-el-details">                                <span class="fw-eld-filename">Phospholipuds_p...csv</span>                                <span class="fw-eld-filesize">112kb</span>                                <div class="fw-eld-icon"></div>                            </div>                        </a>                    </li>                </ul>                </div>                  <div class="fw-enlarge-preview">                    <div class="fw-preview-wrap">                    <a href="javascript:void(0)" title="previous file" class="fw-ep-left">                      <span></span>                    </a>                    <a href="javascript:void(0)" title="next file"class="fw-ep-right">                      <span></span>                    </a>                      <div class="fw-ep-embed-wrap">                        <div class="fw-ep-embed">                        </div>                      </div>                      <div class="fw-ep-details">                      </div>                      <div class="fw-ep-caption-wrap">                      <div class="fw-ep-caption">                          <a href="javascript:void(0)" class="fp-cap-minimize"><span></span>Hide description</a>                          <div class="fw-ep-cap-shadow"></div>                          <div class="fw-epc-content-wrap">                            <div class="fw-epc-content">                                  <div class="fw-more-description">                                    <a class="fw-epc-more" href="javascript:void(0)"><span></span>Show more</a>                                  </div>                                <div class="fw-epc-desc"></div>                            </div>                          </div>                      </div>                      </div>                  </div>                </div>            </div>        ');var t=e("#figshare_enlarge");var n=e(".fw-ep-embed",t).css({height:m-126-110+"px"});e("#figshare_enlarge .fw-list-wrap").css({width:y+"px"});e(".fw-enlarge-preview",t).css({height:m-100+"px","margin-top":"-"+(m-100)/2+"px",width:b+"px","margin-left":"-"+(b-y)/2+"px"});e(".fw-preview-wrap",t).css({width:"100%"})};var E=function(t){v=r;e("#pv_"+r+" a").css("border","1px solid black")};var S=function(e,t){e.html("An error has occurred. Please try again.");setTimeout(function(){e.html(t)},3e3)};var x=function(t,n){var r=e("#fig_article_"+t);var i=r.css("height");i=i.substring(0,i.length-2);a[parseInt(n["article_id"])]=n["files_id_list"];f[parseInt(n["article_id"])]=n["files_id_list"][0];c[parseInt(n["article_id"])]=n["download_all_url"];s[parseInt(n["article_id"])]=n["files"];l[parseInt(n["article_id"])]=n["article_files_count"];e("#fig_article_"+n["article_id"]).html(n["widget_html"]);var o=e(".fig_title",r).height();var h=e(".fig_bottom",r).height();if(i<100){i=0}var p=330;if(i==0){}else{p=i-o-h;var d=e(".fig_description",r).height();p-=d+5}var v=e(".first_preview_bar",r);if(v.length>0){e(".fig_fileset",r).height(p+"px");p-=v.height()+3;if(i==0){e(".first_preview_box .viewer_container",r).css("min-height",p+"px")}}else{if(i==0){p-=50;e(".viewer_container",r).css("min-height",p+"px")}}u[parseInt(n["article_id"])]=n["article_type"];if(n["article_type"]==4){setTimeout(function(){e("#fig_article_"+n["article_id"]+" div.fig_fileset").jScrollPane({showArrows:true,verticalDragMinHeight:50})},300)}else{e(".viewer_container",e("#fig_article_"+t)).css("overflow","hidden")}var m=e(".fw-fileset .fw-file",r);var g=m.length*41;var y=e(".fw-content",r).height();var b=e(".fw-fileset-wrap",r);if(y<g){b.css("height",parseInt(y*.8)+"px")}else{b.css("height",g+"px")}};var T=function(n,r){var i=e("#figshare_enlarge .fw-preview-wrap");var s=t+"/articles/get_inline_display_html/"+n+"/"+r+"/1/";i.mask("Loading...");e.ajax({url:s,jsonp:"callback",dataType:"jsonp",success:function(t){i.unmask();var s=e("#figshare_enlarge");e(".fw-ep-embed",s).html(t["html"]);var o=t["download"];var u='<span class="fw-epd-filename">'+t["name"]+'</span>                          <a href="'+o+'" class="fw-epd-download">download <span class="fw-epd-filesize">('+t["size"]+")</span></a>";e(".fw-ep-details",s).html(u);e(".fw-epc-desc",s).html(t["description"]);if(t["description"]==""){e(".fw-ep-caption-wrap",s).hide()}else{e(".fw-ep-caption-wrap",s).show();if(e(".fw-epc-content",s).height()<e(".fw-epc-desc",s).height()){e(".fw-more-description",s).show()}else{e(".fw-more-description",s).hide()}}e("#f_prev_"+n+"_"+k).parent().removeClass("active");e("#f_prev_"+n+"_"+r).parent().addClass("active");C=n;k=r;var f=a[n];if(f[0]==r){e("#figshare_enlarge .fw-ep-left").addClass("disabled");L[0]=1}else if(L[0]==1){e("#figshare_enlarge .fw-ep-left").removeClass("disabled")}if(f[f.length-1]==r){e("#figshare_enlarge .fw-ep-right").addClass("disabled");L[1]=1}else if(L[1]==1){e("#figshare_enlarge .fw-ep-right").removeClass("disabled")}}})};var N=function(n,r){var i=e("#fig_article_"+n+" .fw-embed");i.mask("Loading...");e.ajax({url:t+"/articles/get_inline_display_html/"+n+"/"+r+"/0/",jsonp:"callback",dataType:"jsonp",success:function(t){i.html(t["html"]);e("#fig_article_"+n+" .fw-download-this span").html("("+t["size"]+")");if(t["description"]==""||t["description"]=="None"){e("#fig_article_"+n+" .fw-caption").hide()}else{e("#fig_article_"+n+" .fw-caption").show()}e("#fig_article_"+n+" .fw-cap-content").html(t["description"]);e("#fig_article_"+n+" .fw-title-bar").html(t["name"]);e("#fig_article_"+n+" .fw-download-this a").attr("href",t["download"])}})};var C=0;var k=0;var L=[0,0];var A=function(t,n,r){if(n==1){e(".fw-prev",t).addClass("disabled")}else{e(".fw-prev",t).removeClass("disabled")}if(a[r].length==n){e(".fw-next",t).addClass("disabled")}else{e(".fw-next",t).removeClass("disabled")}};var O=false;var M=function(){var t=e("#figshare_enlarge");e(".fp-cap-minimize",t).hide();e(".fw-ep-caption-wrap",t).css({height:"auto"});e(".fw-ep-caption",t).css({bottom:"auto",position:"relative","min-height":"auto"});e(".fw-epc-content",t).css({"max-height":"59px","overflow-y":"hidden"})};var _=function(){e("#figshare_enlarge").off("click","a.fw-ep-right").on("click","a.fw-ep-right",function(){if(e(this).hasClass("disabled"))return false;var t=a[C];var n=e.inArray(k,t);T(C,t[n+1])});e("#figshare_enlarge").off("click","a.fw-ep-left").on("click","a.fw-ep-left",function(){if(e(this).hasClass("disabled"))return false;var t=a[C];var n=e.inArray(k,t);T(C,t[n-1])});e("#figshare_enlarge").off("click","a.fw-el-trigger").on("click","a.fw-el-trigger",function(){var t=e(this).attr("id").split("_");T(parseInt(t[2]),parseInt(t[3]));return false});e(".figshare_widget").off("click",".fw-prev").on("click",".fw-prev",function(t){var n=e(this).parent().parent().parent().parent();var r=e(".fwc-current",n);var i=parseInt(e(".curent_article_id",n).val());if(parseInt(r.html())==1){return false}var s=parseInt(r.html())-1;r.html(s);A(n,s,i);N(i,a[i][s-1]);e(".curent_file_id",n).val(a[i][s-1])});e(".figshare_widget").off("click",".fw-next").on("click",".fw-next",function(t){var n=e(this).parent().parent().parent().parent();var r=parseInt(e(".curent_article_id",n).val());var i=e(".fwc-current",n);if(parseInt(i.html())>=a[r].length){return false}var s=parseInt(i.html())+1;i.html(s);A(n,s,r);N(r,a[r][s-1]);e(".curent_file_id",n).val(a[r][s-1])});e(".figshare_widget").off("click","a.show_all_files").on("click","a.show_all_files",function(){var t=e(this).parent().parent().parent().parent().parent();e(".first_preview",t).hide();e(".fig_fileset",t).show();var n=e(".fig_fileset",t).height();var r=e(".jspPane",t).height();if(r<n){e(".viewer_container",t).css("height",r+"px")}var i=e(".fig_fileset",t).data("jsp");try{i.reinitialise()}catch(s){}return false});e(".figshare_widget").off("click","a.prev_lnk").on("click","a.prev_lnk",function(t){var n=e(this).attr("id").split("_");var r=parseInt(n[2]);var i=parseInt(n[1]);e("#figshare_enlarge .fw-enlarge-list").html(s[r]);if(a[r].length==1){e("#figshare_enlarge .fw-list-wrap").hide();e("#figshare_enlarge .fw-ep-left").hide();e("#figshare_enlarge .fw-ep-right").hide();e("#figshare_enlarge .fw-enlarge-preview").css({width:"90%","margin-left":"-45%"})}else{e("#figshare_enlarge .fw-list-wrap").show();e("#figshare_enlarge .fw-ep-left").show();e("#figshare_enlarge .fw-ep-right").show();e("#figshare_enlarge .fw-enlarge-preview").css({height:"auto","margin-top":"-"+(m-100)/2+"px",width:b+"px","margin-left":"-"+(b-y)/2+"px"})}if(y<210){e("#figshare_enlarge .fw-el-thumb").hide()}T(r,i);e("body").css("overflow","hidden");e("#figshare_enlarge").css("width",e(document).width());e("#figshare_enlarge").show();e(".fw-list-wrap").jScrollPane({showArrows:true,verticalDragMinHeight:50})});e(".figshare_widget").off("click","a.fig_refresh_now").on("click","a.fig_refresh_now",function(n){var r=e(this).parent().parent().attr("id").split("_")[2];var i=0;e("#fig_article_"+r+" .fig_error").mask("Loading...");e.ajax({url:t+"/widget/plos/"+r+".json",jsonp:"callback",dataType:"jsonp",success:function(e){x(r,e)}})});e("#figshare_enlarge").off("click","a.thumb_prev").on("click","a.thumb_prev",function(n){var i=e(this).parent().attr("id").substring(3);var s=0;e("#pv_"+r+" a").css("border","1px solid #ccc");r=parseInt(i);e("#display_preview").mask("Loading...");e.ajax({url:t+"/articles/plos_get_display_html/"+r+"/",jsonp:"callback",dataType:"jsonp",success:function(t){e("#display_preview").html(t["html"]);e("#d_lnk").html(t["link"]);e("#d_lnk").css("visibility","visible");e("#display_preview .viewer_container_pop").css("height",d+"px");e(".viewer_container_pop").show();e("#display_preview").css("height",d+"px");if(e("#display_preview .viewer_container_pop").hasClass("txt_viewer")){e("#display_preview .viewer_container_pop").css("height",d+"px")}else{e("#display_preview .viewer_container_pop").css("height",d+"px")}E(r)}})});e(".figshare_widget").off("click","a.fw-download-trigger").on("click","a.fw-download-trigger",function(t){if(!e(this).parent().hasClass("active"))e(this).parent().addClass("active");else e(this).parent().removeClass("active");return false});e(".fw-cta-download").mouseover(function(){O=true});e(".fw-cta-download").mouseout(function(){O=false});e(".figshare_widget").off("click",".fw-list").on("click",".fw-list",function(){var t=e(this).attr("id").split("_")[1];var n=e("#fig_article_"+t);e(this).toggleClass("active");if(e(".fw-fileset-overlay",n).css("display")!="block"){e(".fw-fileset-overlay",n).fadeIn(440);e(".fw-fileset").jScrollPane({showArrows:true,verticalDragMinHeight:50})}else{e(".fw-fileset-overlay",n).fadeOut(440)}});e(".figshare_widget").off("click",".fw-curtain").on("click",".fw-curtain",function(){e(".fw-list").toggleClass("active");e(".fw-fileset-overlay").fadeOut(440)});e(".figshare_widget").off("click",".fw-cta-enlarge").on("click",".fw-cta-enlarge",function(){var t=parseInt(e(".curent_article_id",e(this).parent()).val());var n=parseInt(e(".curent_file_id",e(this).parent()).val());e("#figshare_enlarge .fw-enlarge-list").html(s[t]);if(a[t].length==1){e("#figshare_enlarge .fw-list-wrap").hide();e("#figshare_enlarge .fw-ep-left").hide();e("#figshare_enlarge .fw-ep-right").hide();e("#figshare_enlarge .fw-enlarge-preview").css({width:"90%","margin-left":"-45%"})}else{e("#figshare_enlarge .fw-list-wrap").show();e("#figshare_enlarge .fw-ep-left").show();e("#figshare_enlarge .fw-ep-right").show();e("#figshare_enlarge .fw-enlarge-preview").css({height:"auto","margin-top":"-"+(m-100)/2+"px",width:b+"px","margin-left":"-"+(b-y)/2+"px"})}if(y<210){e("#figshare_enlarge .fw-el-thumb").hide()}T(t,n);e("body").css("overflow","hidden");e("#figshare_enlarge").css("width",e(document).width());e("#figshare_enlarge").show();e("#figshare_enlarge .fw-list-wrap").jScrollPane({showArrows:true,verticalDragMinHeight:50})});e("#figshare_enlarge").off("click",".fw-close-enlarge").on("click",".fw-close-enlarge",function(){e("body").css("overflow","auto");e("#figshare_enlarge").css("width",e(document).width());e("#figshare_enlarge").hide()});e("#figshare_enlarge").off("click",".fp-cap-minimize").on("click",".fp-cap-minimize",function(){e("#figshare_enlarge .fw-more-description").show();M();e(".fw-epc-content").css("overflow-y","hidden");return false});e("#figshare_enlarge").off("click",".fw-epc-more").on("click",".fw-epc-more",function(){var t=e("#figshare_enlarge");e(".fw-ep-caption-wrap",t).css({height:e("#figshare_enlarge .fw-ep-caption-wrap").height()+"px"});e(".fw-ep-caption",t).css({bottom:"0",left:"0",position:"absolute","min-height":"115px"});e(".fw-epc-content",t).css({"max-height":e(".fw-enlarge-preview").height()*80/100,"overflow-y":"auto"});e(".fw-more-description",t).hide();e(".fp-cap-minimize",t).show()});e("#figshare_enlarge").off("click",".fw-overlay-curtain").on("click",".fw-overlay-curtain",function(){e(".fw-close-enlarge").trigger("click")});e(".figshare_widget").off("click","a.aj_download_all").on("click","a.aj_download_all",function(){var t=e(this);var n=t.html();var r=parseInt(t.attr("id").split("_")[1]);if(!p){p=e("<iframe>").css("display","none").appendTo("body");p.on("load",function(){S(t,n)})}p.attr("src",window.location.protocol+c[r]);return false})};load_figshare_widget=function(){var n=e(".figshare_widget");if(n.length==0)return false;w();n.each(function(n,r){try{var i=e(this).attr("doi").replace("/","_");e(this).addClass("figshare_file_widget")}catch(n){}var s=0;e.ajax({url:t+"/widget/plos/"+i+".json",dataType:"jsonp",success:function(t){e("#figshare_enlarge").addClass(t["skin"]);var n=t["article_id"];e(r).attr("id","fig_article_"+n);x(n,t)}})});_()};load_figshare_widget();e(document).click(function(){if(!O){e(".fw-cta-download").removeClass("active")}});e(document).keydown(function(t){if(t.which==27){t.preventDefault();e(".fw-close-enlarge").trigger("click")}});e(document).keydown(function(t){if(t.keyCode==37||t.keyCode==38){e("#figshare_enlarge .fw-ep-left").trigger("click")}else if(t.keyCode==39||t.keyCode==40){e("#figshare_enlarge .fw-ep-right").trigger("click")}})})}var e;if(window.jQuery===undefined||window.jQuery.fn.jquery!=="1.9.1"){var t=document.createElement("script");t.setAttribute("type","text/javascript");t.setAttribute("src","//code.jquery.com/jquery-1.9.1.min.js");if(t.readyState){t.onreadystatechange=function(){if(this.readyState=="complete"||this.readyState=="loaded"){n()}}}else{t.onload=n}(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(t)}else{e=window.jQuery;r()}})()
